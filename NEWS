 Open Firm Accounting - NEWS

 Summary
 =======
 
   Version 0.69
   Version 0.68
   Version 0.67
   Version 0.66
   Version 0.65
   Version 0.64

-----------------------------------------------------------------------
 Version 0.69
 ============

 Released on 

 Total files count:    
 Total lines count: 

 New features and improvements:

   Core DB Model v37

   - AccountsBalance: new with beginning and ending soldes (todo #1385).
   - AccountsBookSummary: have balance and page break by class (todo #1390). 
   - AccountsBookSummary: sort by operation date or effect date (todo #1419). 
   - Balance check: distinguish between rough, validated and future balances (todo #1392).
   - Display unsettled entries on settleable accounts (todo #1381).
   - Display unreconciliated entries on reconciliable accounts (todo #783).
   - Entry page: display the settlement group (todo #1429).
   - Entry properties: align counters, add tiers (todo #1426).
   - Export the FEC file (LPF - Article A47 A-1).
   - Integrity check: have a user preference to only display errors (todo #1409).
   - LedgerBookSummary: is now merged with LedgerBookRender (todo #1386).
   - Operation group: display entries of an operation (todo #1422).
   - Operation template: define new DOMYP macro.
   - Printings: allow the user to re-render as often as he wishes (todo #1384).
   - Printings: have a progress bar when printing (todo #1404).
   - Printings: have a plugin which can override ofaIRenderable interface (todo #1196).
   - Reconciliation group: display more columns (todo #1433).
   - Reconciliation group: let display entries and BAT files (todo #1434).
   - Reconciliation page: auto-updates when an external identifier changes (todo #1407).
   - Reconciliation page: have all entry/batlines related actions (todo #1428).
   - Reconciliation render take into account the last available BAT at date (todo #1420).
   - Recurrent operations validation: have a visual display of the status (todo #1369).
   - Restore assistant: allow admin credentials to be saved (todo #1416).
   - Settlement page: have all entry related actions (todo #1431).
   - Unreconciliated page: have all account/entry related actions.
   - Unsettled page: have all account/entry related actions.
   - VAT records: may now display the generated operations (todo #1296).

 Bug fixes:

   - Exercice closing: forward operation number are generated in the new exercice.
   - Exercice closing: rightly store last closing date and last entry number.
   - myICollectionable: make sure the dataset is loaded before first insertion.
   - ofaAccountFrameBin: fix notebook size when the dataset is empty.
   - ofaAccountPage: fix page display when the dataset is empty.
   - ofaAccountStore: let the treeview be repopulated on collection reload.
   - ofaOpeTemplateFrameBin: fix notebook size when the dataset is empty.
   - ofaOpeTemplatePage: fix page display when the dataset is empty.
   - ofaOpeTemplateStore: let the treeview be repopulated on collection reload.
   - ofaReconcilGroup: conciliation update label is insensitive (todo #1432).
   - ofaReconcilRender: compute the account solde depending of the requested date (todo #1413).
   - ofaRecurrentRunPage: renew the actions state after an operation.
   - Printings: identifiers are ellipsized if too large (todo #1150).
   - Printings: display the dossier label instead of the meta name (todo #1415).

 Other changes:

   - maintainer/check-po.sh: check that all files are rightly internationalized (todo #1421). 
   - Clarify the reference management of the collection (todo #1359).
   - ofaAccentryStore: new class.
   - ofaAccentryTreeview: new class.
   - ofaBatLineProperties: new class.
   - ofaIRenderer: new interface.
   - ofaOperationGroup: new class.
   - ofaPrefs: new class (todo #1424).
   - ofaSettlementGroup: new class.
   - ofaUnreconcilPage: new class.
   - ofaUnsettledPage: new class.
   - ofoCounters: new class.
   - ofoEntry: status is stored in DBMS as a char indicator (todo #1414).
   - ofoRecurrentRun: review status (numeric in the code, alpha in the dbms).

-----------------------------------------------------------------------
 Version 0.68
 ============

 Released on 2017-03-21

 Total files count:    798
 Total lines count: 532196

 New features and improvements:

   Core DB Model v36
   Recurrent DB Model v9

   - CheckDBMSIntegrity: errors are displayed in red (todo #1395).
   - ClosingParms: improve account check (todo #513).
   - EntryPage: have an extended filter (todo #733).
   - EntryPage: may be opened several times.
   - ExerciceCloseAssistant: archive opening accounts balances (todo #1388).
   - Improve error messages when entering an operation (todo #1356).
   - Display conciliation group from an entry or a BAT line (todo #1372).
   - Review the window geometry management (todo #1285).
   - Let the user have a pin button to detach main tabs.
   - Pages which may be opened several times are numbered (todo #1380).
   - Printings: have a progression bar during pagination and rendering (todo #1403).
   - VAT declaration: let the label be edited by the user (todo #1378).
   - VAT declaration: operation label depends of the managed period (todo #1393).

 Bug fixes:

   - DB restoration: fix unset variable when restoring the last archive.
   - myIDialog: fix focus issue when running 'maybe_non_modal()' (todo #1355).
   - myIGridlist: fix behavior when there is no header (todo #1373).
   - ofaAccountTreeview: fix background color of pixbuf cells (todo #442).
   - ofaAccountTreeview: fix selection post-delete (todo #1400).
   - ofoAccount: make sure the DBMS stays sane when deleting an account (todo #1394).
   - ofaBatProperties: fix the display of last update (todo #1406).
   - ofaCheckBalances: fix error message (todo #1398).
   - ofaExerciceCloseAssistant: make sure only entries of the closed exercice are archived (todo #1387).
   - ofaExerciceCloseAssistant: fix first entry insertion on new exercice.
   - ofaIExportable: reinitalize progress count between exports (todo #1389).
   - ofaMainWindow: reset the count of opened multiple pages when closing the dossier (todo #1391).
   - Recurrent: fix periodicity details count.
   - VAT declaration: fix the display of notes indicator.
   - VAT declaration: fix the display of last update (todo #1405).

 Other changes:

   - my_casefold(): new function.
   - myIGridList: has new 'my-row-changed' signal (todo #1371).
   - my_igridlist_add_row(): add user data argument.
   - my_igridlist_get_rows_count(): renamed to my_igridlist_get_details_count().
   - my_igridlist_remove_row(): new function.
   - my_igridlist_set_has_row_number(): new function.
   - my_igridlist_set_has_up_down_buttons: new function.
   - myIWindow: set_restore_position() and set_restore_size() are replaced by set_manage_geometry().
   - myIWindow: set_close_allowed() is renamed to set_allow_close().
   - myIWindow: get_identifier() method is replaced by set_identifier() function.
   - my_stamp_compare(): new function.
   - ofaClosingParmsBin: implements myIGridlist interface (todo #1370).
   - ofa_itvcolumnable_enable_column(): renamed to ofa_itvcolumnable_set_invisible().
   - ofa_itvcolumnable_get_column_type(): new function.
   - ofa_itvcolumnable_get_menu_label(): new function.
   - ofaNomodalPage: class is restored from v0.55.
   - ofa_prefs_pin_detach(): new function.
   - ofaReconcilGroup: new class.
   - ofo_entry_get_abr_from_status(): new function.
   - Periodicity properties: review UI margins (todo #1366).

-----------------------------------------------------------------------
 Version 0.67
 ============

 Released on 2017-02-21

 Total files count:    790
 Total lines count: 524542

 New features and improvements:

   Core DB Model v35
   Recurrent DB Model v8
   VAT DB Model v7

   - Let the user records any document with any table (todo #1263).
   - Have new keyboard shortcuts for import/export assistants.
   - Account selection does not allow deletion anymore (todo #1349).
   - Accounts are now settleable and reconciliable, and able to allow keeping
     unsettleable and unreconciliable entries.
   - Accounts chart: display the newly created page when creating an account with new class.
   - Accounts treeview: indicators are now centered in the column.
   - Administrative credentials are now recorded as dossier settings.
   - Conciliation groups are now archived on exercice closing (todo #601).   
   - DossierManager better behaves when the list is empty, disabling all unrelevant actions.
   - DossierManager no more has two identical 'Close' buttons.
   - DossierManager no more allows (there is no sense to that) to check/uncheck the 'Remember'
     button when deleting a period.
   - Entry and Reconciliation pages are optimized when loading entries (todo #1292).
   - Entries have now a rule indicator to distinguish forward and closing entries (todo #1228).
   - ExerciceCloseAssistant closes the opened pages before working.
   - ExerciceMetaBin no more forces a new dossier to have a current exercice.
   - Operation templates: display the newly created page when creating a template for a new ledger.
   - Operation template selection does not allow deletion anymore.
   - Paiement mean selection has the correct title.
   - Paiement mean selection does not allow deletion anymore.
   - Preferences: have user preferences to warns on settling or reconciliating unbalanced lines.
   - Reconciliation group is deleted when one of the entries is deleted (todo #758).
   - RecurrentRunPage: have a filter on the operation date (todo #1360).
   - RecurrentRunTreeview: the date column is better named 'Operation' (todo #1368).
   - Restore assistant: improve target chooser user interface (todo #1362).
   - Settlement group is deleted when one of the entries is deleted (todo #758).
   - Settlement page now auto-updates itself when an entry is modified elsewhere (todo #1347).
   - Settlement page now warns when amounts are not balanced (unless Ctrl key is pressed).
   - Settlement page now has a 'View/edit entry...' context menu item (todo #1346).
   - VAT form is more tolerant when an operation template does not exist (todo #1348).
   - VAT declaration page has an extra space between 'Delete' and 'Validate' buttons (todo #1364).

 Bug fixes:

   - DBModel migration: fix regression for ofoAccount between v33 and v35 versions (todo #1353).
   - my_double_to_sql_ex: fix translation when we only have one digit (todo #1358).
   - myISettings: fix free_groups() behavior when groups list is NULL.
   - ofaAccountFrameBin: fix selection of newly created account.
   - ofaAppMenubar, ofaDosMenubar: change Ctrl-C shortcut (todo #1357).
   - ofoEntry: maintains the store up to date.
   - ofaEntryProperties: let the user close the dialog.
   - ofaExerciceTreeview: fix the update when no dossier is selected.
   - ofaIDBDossierMeta, ofaIDBExerciceMeta: fix refs management.
   - ofaITVColumnable: makes sure columns have a minimal width.
   - ofaMysqlRootBin: now updates the ofaMysqlDossierMeta runtime datas.
   - ofaPaimeanSelect: fix store instanciation.
   - ofaRecurrentMain: remove underline from theme labels (todo #1367).
   - ofaRecurrentRunPage: fix left margin of the visible filter (todo #1365).
   - ofaRestoreAssistant: fix object reference on dispose.
   - ofaTvaMain: remove underline from theme labels (todo #1367).
   - ofaTVBin: header of a centered column is itself centered.
   - ofoAccount: actually delete all children when requested to.

 Other changes:

   - ofaEntryStore: is now loaded at once.
   - ofa_idbdossier_meta_unref(): removed function.
   - ofa_idbexercice_meta_unref(): removed function.
   - ofaIDoc: new documents management interface.
   - ofaIGetter: the header only includes class definitions (not the APIs).
   - ofeEntryRule: new enum which indicates the rule of the entry.
   - ofeEntryStatus: type renamed from ofaEntryStatus (as an enum).
   - ofo_account_delete_with_children(): new function.
   - ofoAccountv34: new class.
   - ofoDoc: new class for documents management.

-----------------------------------------------------------------------
 Version 0.66
 ============

 Released on 2017-02-05

 Total files count:    779
 Total lines count: 511208

 New features and improvements:

   - DossierManager: be able to close the currently opened dossier (todo #1338).
   - Recovery: new assistant to import datas from other softwares (todo #1260).
   - Review and harmonize standard actions on dossier open (todo #1300, todo #1322).

 Bug fixes:

   - 

 Other changes:

   - myIScopeMap: is renamed from myIActionMap.
   - myScopeMapper: new class.
   - ofaDossierPrefs: deprecated class.
   - ofaDossierStore: is now owned by #ofaHub (todo #1343). 
   - ofa_extender_collection_get_for_type(): does not return a new ref (todo #1341).
   - ofaExtenderModule: review loading/unloading the library.
   - ofaExtension: improve API v2.
   - ofa_idbdossier_meta_set_provider(): remove 'const' modifier from argument list.
   - ofa_idbdossier_meta_unref(): new function.
   - ofa_idbexercice_meta_unref(): new function.
   - ofaIExtenderSetter: interface renamed from ofaISetter (todo #1345).
   - ofaIGetter: review interface to be the only one which accesses to ofaHub (todo #1339).
   - ofaIRecover: new interface.
   - ofaISignalable: interface renamed from ofaISignalHub (todo #1342).
   - ofaISignaler: new interface (todo #1342).
   - ofaOpenPrefs: new class.
   - ofaRecoveryAssistant: new class.

-----------------------------------------------------------------------
 Version 0.65
 ============

 Released on 2017-01-29

 New features and improvements:

   Dossiers are identified by a Random Pseudo Identifier (RPID); this
   identifier is automatically generated - if not already set - when
   opening a current exercice.

   - Add a JSON header to backup archives.
   - Backups now manage several data streams, of which dossier and Openbook headers.
   - Backups now have a comment (todo #792).
   - DossierManager: delete an exercice (todo #1316).
   - DossierOpen: set the read-only flag when selecting a closed exercice (todo #1321).
   - ExerciceNew: create a new exercice.
   - ExerciceTreeview: automatically selects the first exercice (todo #1337).
   - Replace Backup standard dialog box with an assistant (todo #1317).
   - Restore assistant: implements restore protection rules (todo #1320).
   - Restore assistant: does not require user confirmation on new dossier (todo #1336).
   - UserPreferences: choose between reordering and detaching main tabs (todo #1147).

   + ofa-unzip: command-line utility to unarchive a data flow on stdout.

 Bug fixes:

   - some.

 Other changes:

   DBModel Core v34.

   - my_date_editable_set_entry_format(): renamed from my_date_editable_set_format (todo #1331).
   - my_date_editable_set_label_format(): renamed from my_date_editable_set_label (todo #1332).
   - myIBin: new interface (todo #1323).
   - myICollectionable: remove ofaHub dependancy (todo #1319).
   - myIDialog: review whole closing process (todo #1330).
   - myISettings: make the interface more consistent (todo #1301).
   - my_iwindow_msg_dialog(): deprecated (todo #1333).
   - my_iwindow_set_close_allowed(): new function replacing is_destroy_allowed() method (todo #1287).
   - my_stamp_xxx() functions now accept a display format (todo #1318).
   - my_utils_dialog_question(): now accepts a GtkWindow parent.
   - my_utils_file_is_readable_file(): renamed to my_utils_file_is_readable().
   - my_utils_uri_is_readable_file(): renamed to my_utils_uri_is_readable().
   - ofaBackupAssistant: new class.
   - ofaDbmsRootBin: deprecated class (todo #1271).
   - ofaDbsu: new class.
   - ofa_dossier_collection_set_meta_from_editor(): deprecated function (todo #1267).
   - ofaDossierDelete: deprecated class.
   - ofaDossierNew: makes use of ofaExerciceEditBin (todo #1334).
   - ofaDossierNewBin: deprecated class.
   - ofaDossierNewMini: deprecated class (todo #1329).
   - ofaDossierProps: new class.
   - ofa_idbconnect_backup(): renamed to ofa_idbconnect_backup_db().
   - ofa_idbconnect_restore(): renamed to ofa_idbconnect_restore_db().
   - ofaIDBEditor: deprecated interface (todo #1328).
   - ofaIDBSuperuser: new interface.
   - ofaExerciceEditBin: new class.
   - ofaExerciceNew: new class.
   - ofa_iproperties_is_valid(): renamed from ofa_iproperties_get_valid (todo #1303).
   - ofa_mysql_prefs_bin_is_valid(): renamed from ofa_mysql_prefs_bin_get_valid (todo #1302).
   - ofoExemeta: new class.

   + Add a prequisite on JSON-GLib library.
   + Add a prequisite on libarchive library.

-----------------------------------------------------------------------
 Version 0.64
 ============

 Released on 2017-01-09

 New features and improvements:

   - ofaDossierOpen: exercice is disabled if no dossier is selected (todo #1297).
   - ofaExportAssistant: have a message when output file is not set.

 Bug fixes:

   - myIAssistant: fix quit on escape (fix key propagation).
   - ofaImportAssistant: fix page 4 label position.
   - ofaStreamFormatBin: fix header widgets sensitivity (todo #1298, #1299).

 Other changes:

   - my_idialog_click_to_update_ex(): new method.
   - myIDialog: set OK button insensitive in case of an error.
   - myIWindow: set_settings() is renamed set_geometry_settings() (todo #1282).
   - myIWindow: deprecate my_iwindow_get_keyname() (todo #1283).
   - No more try to read/write user settings from myIWindow geometry settings (todo #1284).
   - ofaAccountBookBin class is renamed to ofaAccountBookArgs.
   - ofaBalanceBin class is renamed to ofaBalanceArgs.
   - ofaDossierActionsBin: new class.
   - ofaDossierEditBin: new class.
   - ofaDossierMetaBin: new class.
   - ofaExerciceMetaBin: new class.
   - ofaIDBConnect::create_dossier() can now output an error message.
   - ofaIDBDossierEditor: new interface.
   - ofa_idbdossier_meta_get_provider() no more returns a new reference (todo #1304).
   - ofa_idbdossier_meta_get_settings_group() no more returns a new string (todo #1305).
   - ofa_idbdossier_meta_get_periods() no more returns a new list.
   - ofa_idbdossier_meta_get_current_period() no more returns a new reference.
   - ofaIDBExerciceEditor: new interface.
   - ofaIDBProvider: maintains a pointer to ofaHub.
   - ofaIDBProvider::connect() set arguments for an automatic connection.
   - ofaIDBProvider::new_exercice_editor() is moved to ofaIDBDossierEditor.
   - ofaIDBProvider::new_exercice_meta() is moved to ofaIDBDossierMeta.
   - ofaISetter: new interface which targets dynamic objects.
   - ofaLedgerBookBin class is renamed to ofaLedgerBookArgs.
   - ofaLedgerSummaryBin class is renamed to ofaLedgerSummaryArgs.
   - ofaMysqlDossierBin: new class.
   - ofaMysqlDossierEditor: new class.
   - ofa_mysql_dossier_meta_add_period(), ofa_mysql_dossier_meta_load_periods(): removed functions.
   - ofaMysqlExerciceBin: new class.
   - ofaMysqlExerciceEditor: new class.
   - ofa_mysql_exercice_meta_new_to_settings(): removed function.
   - ofa_mysql_exercice_meta_set_database(): new function.
   - ofaMysqlRootBin: new class.
   - ofaReconcilBin class is renamed to ofaReconcilArgs.
   - ofa_prefs_export_default_folder(): new function.

   + General review of exercice deletion:

   - ofa_dossier_collection_delete_meta(): removed function.
   - ofa_idbconnect_period_delete(): removed function.
   - ofa_idbdossier_meta_delete(): removed function.
   - ofa_idbdossier_meta_remove_meta(): removed function (todo #1309).
   - ofa_idbdossier_meta_remove_period(): removed function (todo #1310).
   - ofaIDBDossierMeta::remove_period(): removed method (todo #1312).
   - ofa_dossier_collection_delete_period(): new function.
   - ofa_idbdossier_meta_delete_period(): new function.
   - ofa_mysql_connect_drop_database(): new function.

   + General review of read/write user and dossier settings:

   - Let the application manage its own settings for an exercice (todo #1276).

-----------------------------------------------------------------------
 P. Wieser - Created on 2014, may 2nd
             Last updated on 2017, jan. 9th.
