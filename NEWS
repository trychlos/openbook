 Open Freelance Accounting - NEWS

 Summary
 =======
 
   Version 0.43
   Version 0.42
   Version 0.41
   Version 0.40
   Version 0.39
   Version 0.38
   Version 0.37
   Version 0.36
   Version 0.35

-----------------------------------------------------------------------
 Version 0.43
 ============

 Released on 

 New features and improvements:

   - Reconciliation: let the user select displayed columns (todo #887).
   - Settlement: let the user select displayed columns.

 Bug fixes:

   - GuidedInput: fix the width of entries (todo #868).

 Other changes:

   The major change of this version is the replacement of a global
   ofaIDbms interface, with a lighter ofaIDBProvider one, and the
   definition of an ecosystem of companion interfaces (ofaIDBConnect,
   ofaIDBEditor, ofaIDBMeta and ofaIDBPeriod).

   As a consequence, ofaIDbms interface and ofaDbms class are marked
   obsolete and removed.

   - myISettings: new interface.
   - Upgrade DBMS to v27:
     - boolean values are set as Y/N.
     - DOS_STATUS is renamed as DOS_CURRENT (todo #904).
     - DOS_SIRET: new column (todo #817).
     - RAT_VAL_BEG is renamed as RAT_VAL_BEGIN (todo #819).
     - OTE_xxx_LOCKED are changed to CHAR(1).
     - Force default database charset to utf8.
   - ofa_application_get_file_dir(): new method.
   - ofa_dossier_misc_get_current_dbname(): removed function.
   - ofa_dossier_misc_get_dossiers(): removed function (todo #893).
   - ofa_dossier_misc_get_exercices(): removed function.
   - ofa_dossier_misc_get_exercice_label(): removed function.
   - ofa_dossier_misc_set_current(): removed function.
   - ofa_dossier_new_run_with_parent(): new method.
   - ofaDossierNew: no more propose to open properties right after dossier creation.
   - ofa_dossier_open_run_with_parent(): new method.
   - ofa_main_window_open_dossier(): new method.
   - ofaIDBConnect: new DBMS connection management interface.
   - ofaIDBEditor: new DBMS properties management interface.
   - ofaIDBMeta: new dossier meta properties management interface.
   - ofaIDBPeriod: new exercice management interface.
   - ofaIDBProvider: new DBMS directory management interface.
   - ofaIPreferences: is renamed to ofaIPrefsProvider.
   - ofaIPrefsPage: new interface.
   - ofaMySQLConnect: new class which implements ofaIDBConnect interface.
   - ofaMySQLEditorEnter: new class which implements ofaIDBEditor interface.
   - ofaMySQLEditorDisplay: new class which implements ofaIDBEditor interface.
   - ofaMySQLIPreferences: is renamed to ofaMySQLIPrefsProvider.
   - ofaMySQLPrefsBin: implements ofaIPrefsPage interface.
   - ofaMySQLPeriod: new class which implements ofaIFilePeriod interface.
   - ofaMySQLMeta: new class which implements ofaIFileMeta interface.
   - ofaFileDir: new class for dossiers collection management.
   - myFileMonitor: new class.
   - mySettings: new class which implements myISettings.
   - ofa-entry-columns.{c,h}: removed obsolete files.
   - ofa-reconcil-columns.{c,h}: removed obsolete files.
   - ofaIColumns: removed obsolete interface.
   - ofaITreeviewColumn: new interface.
   - ofaITreeviewDisplay: new interface.
   - ofaReconciliation class is renamed to ofaReconcilPage.
   - ofaSettings:
     - minimize use in MySQL plugin (todo #932).
     - remove ofa_settings_dossier_xxx methods (todo #931).
     - use mySettings class (todo #888).
   - Add ofa- prefix to LastBackupFolder key (todo #929).
   - Add ofa- prefix to OpeTemplateBookOrder key (todo #930).
   - Define plugins interfaces to use myISettings (todo #907).
   - ofaSettingsMonitor: removed class (todo #889).

-----------------------------------------------------------------------
 Version 0.42
 ============

 Released on 2015-11-12

 New features and improvements:

   - 'install-txz' target let the user build a locally installable tarball.

-----------------------------------------------------------------------
 Version 0.41
 ============

 Released on 2015-11-11

 New features and improvements:

   - Reconciliation: update buttons after actions are done (todo #883).
   - Reconciliation: display bat lines reconciliation date and identifier.
   - Reconciliation: review display on conciliation groups (todo #877).
   - ViewEntries: ask for a confirmation when deleting a settled
                  or conciliated entry (todo #875).

 Bug fixes:

   - GuidedInput: review the layout of the UI (todo #882).
   - Reconciliation: fix missing leading space (todo #881).
   - Reconciliation: fix rounding computation (todo #876).
   - Reconciliation: fix account label style (todo #871).
   - ReconciliationSummary: reset drawing area when changing account (todo #872).
   - ViewEntries: update reconciliation date (todo #874).

 Other changes:

   - my_utils_entry_get_valid(), my_utils_entry_set_valid(): removed functions.
   - my_utils_widget_remove_style(): new function.
   - ofo_currency_get_precision(): new method.
   - ofo_entry_unsettle_by_number(): new method.
   - ofaPage: is now derived from GtkGrid.
   - ofa_page_get_top_grid(): removed method.
   - ofa_render_page_clear_drawing_area(): new method.

-----------------------------------------------------------------------
 Version 0.40
 ============

 Released on 2015-11-05

 New features and improvements:

   - Display application version (todo #6).
   - AccountsChart: open Settlement and Reconciliation page (todo #813).
   - DossierManager: rows are sorted by ascending dossier name, descending exercice (todo #831).
   - ImportAssistant: recall the loaded file on top of the pages (todo #836).
   - Restore: close the current dossier if any (todo #807).
   - RestoreAssistant: remove a newly created dossier on cancel (todo #834).
   - RateProperties: let the user reorder the lines (todo #187).
   - Add user preferences to open dossier notes or properties at startup.
   - Set mnemonic widgets on all dialogs (todo #839).
   - Have a mnemonic widget even in frames with a single child (todo #857).
   - Defines the ofaIAbout interface for the plugins (todo #858).
   - Horizontally align action buttons to use less vertical space (todo #842).
   - Homogeneize visual width and alignment of date entries (todo #852).
   - Add a visual frame around accounts and operation templates treeviews.
   - Review the layout of DossierNewBin fields (todo #847).
   - DossierManager uses DossierLogin instead of DossierOpen (todo #846).
   - Add a progress page when remediating the database model (todo #23).
   - Check that notes does not have more than 4095 chars (todo #49).
   - Assistants: automatically advance to next page on selection activation (todo #149).
   - ofa_bat_utils_import(): display an error message if no willing-to module found.
   - EntryPage: review columns selection to lesser the window width.

 Bug fixes:

   - DossierManager to DossierOpen: keep the current selection (todo #828).
   - OpeTemplates: fix load order of detail rows.
   - Settings: fix multiple loads of the dossiers (todo #833).
   - RenderPage: set action area end-aligned (todo #855).
   - ExerciceCloseAssistant: fix null pointer (todo #851).
   - ofoRate: fix behavior on import error.

 Other changes:

   - Upgrade to Gtk+ 3.16.
   - Upgrade to Fedora 22 build chain.
   - Upgrade DBMS to v26.
   - myAssistant: takes care of showing the pages (todo #864).
   - ofaAccountsBook class: renamed to ofaAccountsChart (todo #816).
   - ofaLedgerClose: have a 'All ledgers' button (todo #815).
   - Printings: optimize dataset load.
   - Settings: have a dossier.conf special development (todo #820).
   - BatProperties: make the entries be read-only (todo #829).
   - DossierStore: is an auto-maintained singleton (todo #832).
   - myTimeout: new structure.
   - my_assistant_get_current_page(): new method (todo #863).
   - my_assistant_set_page_complete(),
   - my_assistant_set_page_type(): work on current page.
   - my_utils_container_attach_from_ui(): new function.
   - my_utils_container_attach_from_window(): new function.
   - my_utils_container_get_buildable_by_name: removed function.
   - my_utils_container_set_editable(): new function.
   - my_utils_css_provider_free(): new function.
   - my_utils_size_group_add_size_group(): new function.
   - my_utils_uri_is_dir(): new function.
   - my_utils_widget_set_editable(): new function.
   - my_utils_widget_set_style(): new function.
   - my_utils_widget_set_margin(): new function.
   - my_utils_widget_set_margin_left(): new function.
   - my_utils_widget_set_margin_right(): new function.
   - my_utils_widget_set_xalign(): new function.
   - ofa_admin_credentials_bin_get_size_group(): new method.
   - ofa_admin_credentials_bin_grab_focus(): new method.
   - ofa_dbms_root_bin_get_size_group(): new method.
   - ofa_dbms_root_bin_grab_focus(): new method.
   - ofa_idbms_get_provider_from_dossier(): new function.
   - ofa_idbms_restore(): now use a filename uri (todo #865).
   - ofo_bat_get_account(): new method.
   - ofo_bat_set_account(): new method.
   - ofo_dossier_get_last_closing_date(): new method.
   - ofo_dossier_set_last_closing_date(): new method.
   - ofo_dossier_get_prev_exe_last_entry(): new method.
   - ofo_dossier_set_prev_exe_last_entry(): new method.
   - ofa_account_chart_bin_set_main_window(): removed method (todo #861).
   - ofa_account_frame_bin_set_main_window(): removed method (todo #861).
   - ofa_application_get_copyright(): new method.
   - ofa_closing_parms_bin_set_main_window(): removed method (todo #861).
   - ofa_dossier_new_bin_set_frame(): removed method.
   - ofa_dossier_treeview_add_row(): removed method.
   - ofa_dossier_store_add_row(): removed method.
   - ofa_dossier_store_reload(): new method.
   - ofa_dossier_treeview_get_treeview(): new method.
   - ofa_exercice_combo_set_selected(): new method.
   - ofa_guided_input_bin_set_main_window(): removed method (todo #861).
   - ofa_irenderable_free_dataset(): removed interface method.
   - ofa_irenderable_get_dataset(): removed interface method.
   - ofa_ledger_treeview_get_selection(): new method.
   - ofa_ope_template_book_bin_set_main_window(): removed method (todo #861).
   - ofa_ope_template_frame_bin_set_main_window(): removed method (todo #861).
   - ofa_reconciliation_set_account(): new method.
   - ofa_render_page_free_dataset(): new virtual method.
   - ofa_render_page_get_dataset(): new virtual method.
   - ofa_render_page_set_args_valid(): renamed as ofa_render_page_set_args_changed().
   - ofa_settings_get_key_file(): renamed as ofa_settings_get_filename().
   - ofa_settings_get_actual_keyfile(): renamed as ofa_settings_get_keyfile().
   - ofa_settlement_set_account(): new method.
   - src/ui/ofa-import-ex.ui: removed file.
   - ofo_xxx_is_deletable(): check that the dossier is current (todo #856).
   - Review my_utils_init_notes/my_utils_getback_notes (todo #859).
   - Get rid of deprecated ofaIPrintable interface (todo #860).
   - ofaAccountsChart class is renamed to ofaAccountChartBin (todo #844/850).
   - ofaAccountsFrame class is renamed to ofaAccountFrameBin (todo #844/850).
   - ofaAccountsPage class is renamed to ofaAccountPage (todo #844).
   - ofaAccountsBookBin class is renamed to ofaAccountBookBin (todo #844).
   - ofaAccountsBookRender class is renamed to ofaAccountBookRender (todo #844).
   - ofaAccountsFilterVVBin class is renamed to ofaAccountFilterVVBin (todo #844).
   - ofaIAccountsFilter interface is renamed to ofaIAccountFilter (todo #844).
   - ofaDatesFilterHVBin class is renamed to ofaDateFilterHVBin (todo #844).
   - ofaIDatesFilter interface is renamed to ofaIDateFilter (todo #844).
   - ofaClassesPage class is renamed to ofaClassPage (todo #844).
   - ofaBatsPage class is renamed to ofaBatPage (todo #844).
   - ofaBalancesGrid class is renamed to ofaBalanceGridBin (todo #844/850).
   - ofaCurrenciesPage class is renamed to ofaCurrencyPage (todo #844).
   - ofaLedgersPage class is renamed to ofaLedgerPage (todo #844).
   - ofaLedgersBookBin class is renamed to ofaLedgerBookBin (todo #844).
   - ofaLedgersBookRender class is renamed to ofaLedgerBookRender (todo #844).
   - ofaOpeTemplatesPage class is renamed to ofaOpeTemplatePage (todo #844).
   - ofaRatesPage class is renamed to ofaRatePage (todo #844).
   - ofaOpeTemplatesFrame class is renamed to ofaOpeTemplateFrameBin (todo #844/850).
   - ofaOpeTemplatesBook class is renamed to ofaOpeTemplateBookBin (todo #844/850).
   - ofaUserCredentialsBin: new class (todo #845).
   - ofaViewEntries class is renamed to ofaEntryPage (for consistency).

-----------------------------------------------------------------------
 Version 0.39
 ============

 Released on 2014-04-18

 New features:

	- Have account and ledger convertors on EBP import scripts (todo #771).
	- Import settleable indicator from EBP accounts (todo #779).
	- EBP imports now accept a field separator argument.
	- Have a 'About...' dialog (todo #8).
	- Improve DossierProperties dialog box (todo #755).
	- RestoreAssistant: add filter to file chooser (todo #742).
	- Have both Accounts balance and Entries balance (todo #805).
	- Closing exercice: forward entries are created in validated status.
	- Printings have a page view before actually print (todo #695).

 Bug fixes:

   - Improve ledger closing checks before validation (todo #772).
   - Import PDF: make sure we do not import empty lines.
   - Fix entry_load_dataset() query build.
   - PrintGeneralBooks: doesn't try to print while computing count of
     pages (todo #782).
   - PrintLedgers: remove double ORDER clause.
   - Fix segfault when trying to import again a BAT file (todo #781).
   - Reconciliation: disable buttons when opening the page (todo #750).
   - Fix ledgers updates when the entry amount is modified (todo #741).
   - Get rid of rounding errors when displaying the balances (todo #740).
   - Get rid of '(null)' piece reference (todo #787).
   - Do not try to compute balances while currency if not set (todo #786).
   - No more modifiy operation date when checking effect date (todo #785).
   - GuidedInputEx:
     . make entries insensitive while no operation template is defined
     . fix dates check format (todo #789).
   - Backup:
     . fix default folder handling (todo #806).

 Other changes:

   - Big refactoring of dialogs (todo #512).
   - Rename ofaPDFEntriesBalance class as ofaPDFBalances.
   - remove Accounts Balance PDF printing (same than entries balance).
   - ofo_account_is_allowed(): new method.
   - ofs_bat_detail_free(): new function.
   - ofa_date_filter_bin_get_frame_label(): new method.
   - ofa_date_filter_bin_is_from_empty(): new method,
   - ofa_date_filter_bin_is_from_valid(): new method,
   - ofa_date_filter_bin_is_to_empty(): new method,
   - ofa_date_filter_bin_is_to_valid(): new method.
   - ofa_main_window_confirm_deletion(): removed method.
   - my_utils_dialog_error() is renamed as my_utils_dialog_warning().
   - my_utils_dialog_yesno() is renamed as my_utils_dialog_question().
   - Use my_utils_dialog_question() function when appropriate (todo #756).
   - Review ofaDateFilterBin API, moving it to ofaDatesFilterHVBin class
     and ofaIDatesFilter interface (todo #788).
   - ofa_settings_get_actual_keyfile(): new method.
   - ofaIPrintable2: new interface.
   - ofaIRenderable: new interface.
   - ofaRenderPage: new base class.
   - ofaBalanceRender: new class.
   - ofaBalanceBin: new class.
   - ofaAccountsBookBin: new class.
   - ofaRenderBookPage: new class.
   - ofaAccountsFilterVVBin: new class.
   - ofaIAccountsFilter: new interface.
   - ofaLedgersBookBin: new class.
   - ofaLedgersBookRender: new class.
   - ofaReconcilBin: new class.
   - ofaReconcilRender: new class.
   - ofaPDFBalances: removed class.
   - ofaPDFBooks: removed class.
   - ofaPDFLedgers: removed class.
   - ofaPDFReconcil: removed class.

-----------------------------------------------------------------------
 Version 0.38
 ============

 Released on 2015-03-29

 New features:

	- Fix b-e reconciliation scheme.
	- New reconciliation user interface which displays more than 10% rows.
	- New settlement user interface (todo #774, #775).
	- Have an 'Unreconciliate' button (todo #768).
	- Replace the 'Accept' button by a 'Reconciliate' one (todo #767).
	- Close main pages and flush the database before backup (todo #765).
	- ViewEntries: let the currency column visibility be toggled.
	- Settled entries have a light gray background (todo #773).

 Bug fixes:

   - LCL PDF importer: fix date check.
   - GuidedInput OK stay insensitive while all amounts are zero (todo #777).

 Other changes:

   - Have an OPENBOOK_API_ prefix in all api headers (todo #762).
   - Generalize my_strlen() use (todo #763).
   - Have my_collate() function (todo #770).
   - entry_load_dataset() now has an order clause argument (todo #764).
   - ofa_bat_utils_import(): new function.
   - ofaICollector, ofaIConcil: new interfaces.
   - ofoConcil: new class.
   - review ofoBat and ofoBatLine public APIs.
   - update DBMS to version 25.

-----------------------------------------------------------------------
 Version 0.37
 ============

 Released on 2015-03-25

 New features:

	- Account selection: draw in gray un-selectable account (todo #708).
	- Reconciliation: 
	  . let the user manually associate an entry with a bat line (todo #721)
	  . remove the 'Accept all' button
	  . have an effect dates filter (todo #724).
	  . display count+unused batlines (todo #726).
	- BAT files: now defaults to order the list by descending identifier,
	  in order to get the most recent in the top of the list (todo #725).
	- BATs page: now able to import BAT file from there (todo #642).
	- Plugins may now access the application menu (todo #705).
	- Manage recurrent operations with newly defined 'recurrent' plugin (todo #213).
	- Reconciliation now accepts any 'b' batline vs. any 'e' entries where
	  'b' and 'e' may both be equal to zero (todo #747).

 Bug fixes:

   - fix EntriesBalance labels.
   - todo #466: move ofoOpeTemplate to ofaBox.
   - todo #651: use date user preferences.
   - todo #722: fix proposition of reconciliation.
   - fix widget name in DossierNewMini window.
   - fix DossierTreeview code not set when inserted from DossierNewMini.
   - todo #728: doesn't reverse order when printing ledgers.
   - todo #735: LedgerClosing: center the date label.
   - todo #736: DBMS integrity: the textview expands vertically.
   - todo #737: exporting entry models as operation templates. 

 Other changes:

   - new ofaDateFilterBin composite widget.
   - new my_utils_char_replace() function.
   - new ofa_box_get_csv_line_ex() function.
   - ofa_extension_startup() now takes a GApplication as argument.
   - new 'main-window-created' signal.
   - new my_utils_dialog_question() function.
   - new method ofo_bat_line_is_used().
   - new method ofo_bat_line_has_entry().
   - new method ofo_bat_line_get_entries_group().
   - removed method ofo_bat_line_update().
   - new method ofo_bat_line_add_entry().
   - new method ofo_bat_line_remove_entries().
   - update DBMS to version 24.

-----------------------------------------------------------------------
 Version 0.36
 ============

 Released on 2015-03-13

 New features:

   - Is now able to import a bank account transaction list, accepting
     individually any or all lines to match already reconciliated entries
     (todo #689).
   - Now display the count of yet unused BAT lines (todo #704).
   - New Boursorama-PDF import plugin (todo #703).
   - New user preferences: whether to accept dot and/or comma as decimal
     separator (todo #712).

 Bug fixes:

   - #2: use Github website URL
   - #614: do not build PDF-aware plugins if poppler libs are missing.
   - #615: make the MySQL plugin optional.
   - #616: warns if no DBMS plugin is built.
   - #702: compile with ISO C.
   - #709: fix bank account balance computing in reconciliation.
   - #710: put under git all files required to compile the application.
   - #711: reconciliation doesn't display '0,00' amounts.
   - #713: fix operation template detail row deletion.
   - #715: view entries displays unbalanced solde in orange.
   - #716: view entries doesn't display '0,00' amounts.
   - #718: fix automatic appariement between entries and bat lines.
   - #746: ignore lines whose label begin at 'date' column.

 Other changes:

   - Compiler options now includes '-std=gnu99'.
   - new ofoBat::ofo_bat_get_unused_count() method.
   - ofaPreferences is now set as a public API.
   - new ofaMainWindow::my-dialog-init signal.
   - new myWindow::my_window_get_name() method.

-----------------------------------------------------------------------
 Version 0.35
 ============

 Released on 2015-03-07

 New features:

   - 'Balances' option item is renamed as 'Entries balance'.
   - New printing: 'Accounts balance'.

 Bug fixes:

   - todo #686: fix (again) ofaAccountProperties validation rules.
   - todo #687: improve ofo_entry_update_concil() method.
   - todo #688: fix import of first BAT file.
   - todo #690: ofaBatProperties: display reconciliation timestamp.
   - todo #693: ofaAccountsChart: display account solde.
   - todo #698: ofaPDFBooks: accept any account as low or high limits.
   - todo #700: fix ofaBatSelect cancellation.

 Other changes:

   - ofaIPrintable::draw_page_header_columns(): add 'page_num' argument.
   - ofaIPrintable::draw_page_header_notes(): new virtual method.

-----------------------------------------------------------------------
 P. Wieser - Created on 2014, may 2nd
             Last updated on 2015, april 18th.
