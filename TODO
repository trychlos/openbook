 Open Freelance Accounting - TODO
 $Id$

 Summary
 =======

   TODO
   DONE

-----------------------------------------------------------------------
 TODO
 ====

   1 2014- 5- 2 define a dns domain for the application
                (e.g. open-freelance-accounting.org)

   2 2014- 5- 2 ofa.doap & configure.ac: have a web site

   3 2014- 5- 2 ofa.doap: have a download page

   4 2014- 5- 2 ofa.doap: have a bug system

   5 2014- 5- 2 ofa.doap: have a mailing list

   6 2014- 5- 2 ofa_application_on_version: to be written

   7 2014- 5- 2 have a preference to set the application menu on the
                top bar (gnome-shell) or on the main windows

   8 2014- 5- 2 ofa_application_on_about: to be written

  14 2014- 5- 4 have a preference: assistant cancel on escape
     2014- 5- 5 ofa-dossier-new.c: variable 'pref_quit_on_escape'

  16 2014- 5- 4 preference: ask confirmation when clicking cancel in
                an assistant
     2014- 5- 5 ofa-dossier-new.c: variable 'pref_confirm_on_cancel'

  17 2014- 5- 4 preference: ask confirmation when hitting escape in
                an assistant
     2014- 5- 5 ofa-dossier-new.c: variable 'pref_confirm_on_escape'

  18 2014- 5- 4 preference: ask confirmation when quitting the
                 application
     2014- 5- 5 ofa-application.c: variable 'pref_confirm_on_quit'
                ofa-main-window.c: variable 'pref_confirm_on_altf4'

  20 2014- 5- 5 Assistant Dossier/New: display the asterisks (mandatory)
                in another color (grey ? red ? blue ?)
     2014- 5-22 see also Todo #85

  21 2014- 5- 6 Assistant DossierNew: let the user be able to choose to
                create a new database (if the data provider allows it)
                or to use an existing one

  23 2014- 5- 8 Add a progress page to DossierNew assistant, displaying
                the executed SQL statements

  31 2014- 5- 8 Undo the actions partially done if Dossier New cannot be
                terminated (act as a commit transaction), so that all is
                left as this was initially if something goes wrong

  35 2014- 5-10 DossierOpen should monitor the configuration, only
                enabling the action when there is at least one defined
                dossier
     2014- 5-22 see also TODO #42

  36 2014- 5-11 win.close action should only be enabled when a dossier 
                is opened
     2014- 5-22 see also TODO #42

  37 2014- 5-11 DossierNew: fix the order of the focus on pages p2 and
                p3 (a try with gtk_container_set_focus_chain is not
                successfull)

  39 2014- 5-11 DossierNew: add fields needed to complete the
                OFA_T_DOSSIER table to p1 page

  40 2014- 5-12 ofaMainWindow: set accels when changing the menubar

  41 2014- 5-12 ofaMainWindow: set menu tooltips

  42 2014- 5-12 ofaMainWindow: set menu items sensitivities
     2014- 5-22 See also TODO #35 and #36

  43 2014- 5-12 ofaMainWindow left pane: should display a big icon and
                a label instead of only a text

  45 2014- 5-13 ofaMainWindow left pane: set the width of the tree

  49 2014- 5-15 All properties: monitor "notes" size so
                that we stop the entering at 512 chars

  52 2014- 5-17 change the title of the pages of the models notebook
                when the label of a journal is changed

  56 2014- 5-19 have an entry-derived class for date

  57 2014- 5-19 have an entry-derived class for numbers (montants et taux)

  58 2014- 5-19 allow the treeviewes to be sorted

  60 2014- 5-19 manage locale as a user preference (format for entering
                date, amounts and rates)

  61 2014- 5-19 manage dataserver locale as a user preference (format 
                for storing date, amounts and rates) - this is rather
                a configuration information than actually a user pref..

  79 2014- 5-21 replace memcpy with g_memdup when possible

  80 2014- 5-21 my-utils: replace g_strdup_printf with g_date_strftime

  85 2014- 5-21 Color the frame of the invalid GtkEntry
                + set data "ofa-data-entry-valid"
                + my_utils_entry_is_valid
                + my_utils_entry_set_valid
     2014- 5-22 see also Todo #20

  86 2014- 5-21 all GtkFrame: make sure that the label doesn't use
                underscore as the widget can not get focus

  89 2014- 522 Guided input: have a transaction when writing the new
               entries so that we can rollback in case of an error

  96 2014- 5-22 entry_models: check that journal always exist as it
                may be deleted at any time while it is empty -
                so reclass the entry models on journal-changed signal

 100 2014- 5-24 add a ofo_sgbd_query_1_1 method which takes a query and
                returns the first column of the first row as an integer
                applications are: <class>_get_back_id 
                                  <class>_count_for_devise

 101 2014- 5-24 when updating the currency of an account, the 'delete'
                button of the 'currencies' page should be updated

 107 2014- 5-24 have a message when current exercice changes
                so that e.g. the journals set may adapt its display

 108 2014- 5-24 ofaJournalsSet: implement on_view_entries

 111 2014- 5-26 ofo_taux_get_val_rate_by_date

 114 2014- 5-26 dispose_has_run should be a protected data of the
                ofaMainPage base class

 120 2014- 5-28 import accounts

 121 2014- 5-28 import entry models

 122 2014- 5-28 import journals

 123 2014- 5-28 import currencies

 124 2014- 5-28 import standard rates

 125 2014- 5-28 import accounts

 126 2014- 5-28 have several demo dossiers

 129 2014- 5-28 Account: archive balances after closing in ACCOUNT_EXE
                table details

 130 2014- 5-28 do not delete an account which has an account_exe archive
                detail record, but set a 'deleted' flag

 146 2014- 5-31 ImportAssistant::do_init_p3_confirm: remove the mnemonic
                ('_') from the GtktoggleButton label when displaying it

 147 2014- 6- 2 ImportAssistant: keep the last folder and reselect it

 148 2014- 6- 2 ImportAssistant: selecting a folder shouldn't make the
                page complete

 149 2014- 6- 2 ImportAssistant: double-clicking a file (or activating 
                the current selection) should advance to the next page

 151 2014- 6- 2 ofaImport::on_apply: to be written

 152 2014- 6- 3 import qif files

 153 2014- 6- 3 import ofx/ofc files

 155 2014- 6- 3 GuidedInput: diff should be red

 156 2014- 6- 3 when selecting an account, do not allow root (or yes ?)

 158 2014- 6- 4 do a coherency check (sgbd constraints, account and
                journal balances, etc.)

 159 2014- 6- 4 open a dossier from the command-line:
                ./_install/bin/openbook "Test OFAT v0.3" ofat ofat

 160

-----------------------------------------------------------------------
 DONE
 ====

   9 2014- 5- 3 ofa_application_on_new: to be written
     2014- 5-10 Done

  10 2014- 5- 3 ofa_application_on_open: to be written
     2014- 5-10 Done

  11 2014- 5- 3 Alt+F4: application gracefully exits and main window and
                application are correctly finalized - should intercept
                the keystroke to ask the user (quit requested)
     2014- 5- 3 Done (svn commit #3355)

  12 2014- 5- 3 Control-Q: exit the application without finalizing the
                objects
     2014- 5- 3 Done (svn commit # 3356)

  13 2014- 5- 4 cancel on escape in dossier_new assistant
     2014- 5- 5 Done

  15 2014- 5- 4 take into account cancel on escape preference in
                dossier_new assistant
     2014- 5- 5 Done

  19 2014- 5- 4 Dossier/New - page p1: provider selection: fix the order
                of the focus of the fields (provider selector is the first
                but should be the second)
     2014- 5- 5 Done

  22 2014- 5- 7 Assistant DossierNew: determine if an holder should be
                hidden (the initial connection password is just entered
                as clear text, but shouldn't) - For now, there is a bad
                hack on the holder id 'PASSWORD'
                (see do_init_p2_provider_params and display_p4_params
                 functions)
     2014- 5- 7 Given up with 0.1.9-libgda version

  24 2014- 5- 8 Have a configuration parameter which says if user
                preferences supersede global ones, or if global
                preferences must be seen as mandatory ones.
     2014- 5- 9 cancelled

  25 2014- 5- 8 ofa_utils_g_value_compare
     2014- 5- 9 cancelled

  26 2014- 5- 8 ofa_utils_g_value_dup
     2014- 5- 9 cancelled

  27 2014- 5- 8 ofa_utils_g_value_new_from_string
     2014- 5- 9 cancelled

  28 2014- 5- 8 ofa_utils_g_value_dump
     2014- 5- 9 cancelled

  29 2014- 5- 8 Define a G_TYPE_STRING_LIST GType to be used as a GValue
     2014- 5- 9 cancelled

  30 2014- 5- 8 Define a G_TYPE_INT_LIST GType to be used as a GValue
     2014- 5- 9 cancelled

  32 2014- 5- 9 settings_gvalue_compare to be written
     2014- 5- 9 cancelled

  33 2014- 5- 9 DossierNew: get rid of error_on_applied variable which
                appears useless since we have abandonned libgda
     2014- 5-10 Done

  34 2014- 5- 9 DossierNew: move the settings key names to ofa_settings
                (as ofa_settings_get_dossier)
     2014- 5-10 Done

  38 2014- 5-11 DossierOpen: fix the order of the focus
     2014- 5-22 done

  44 2014- 5-13 ofaAccountsChart: set an accelerator for each page of
                the classes book (e.g. Alt+1, etc.); set the label of
                this accel as a tooltip of the notebook's page
     2014- 5-22 done svn #3474

  46 2014- 5-13 chart of accounts: this is a user preference whether
                a double clic enter in 'Update' or in 'Consult entries'
     2014- 5-24 no, default should be to update, as this the general 
                rule for other treeviews

  47 2014- 5-13 ofaAccountProperties: check that account number begins
                with a 1-9 digit
     2014- 5-15 Done

  48 2014- 5-14 ofoDossier: loading accounts chart should be made with
                collaboration of ofoAccount typically for the list of
                fields 
     2014- 5-14 Done

  50 2014- 5-17 when defining a new model, the default family should be
                the current family in models_set
     2014- 5-22 Family class is abandonned, but the subject is the same 
                with Journal class
     2014- 5-26 Done - svn #3508

  51 2014- 5-17 Be able to use an underscore in the label of the model
                families; this underscore should be usable as a shortcut
                when dealing with the models in models set
     2014- 5-22 Family class is abandonned, but the subject is the same 
                with Journal class
     2014- 5-22 done svn #3477

  53 2014- 5-17 on pages which embed a notebook, one should reset
                button sensititviy when switching the page
                because the on_selection_changed may not be triggered,
                e.g. if the list is empty
     2014- 5-27 done

  54 2014- 5-18 remove GtkWindow *parent from ofa_sgbd arguments,
                re-enabling error messages.
     2014- 5-22 done svn #3472

  55 2014- 5-18 ofo_dossier_insert: use ofoBase virtual function.
     2014- 5-24 definitively, no -> cancelled

  59 2014- 5-19 reset all sentences in english
                as the g_date_set_parse uses the current locale, the 
                only way to enter a date as dd/mm/yyyy is to use the
                french locale 
     2014- 5-22 done

  62 2014- 5-19 review all the rates management:
                there should be a master record (the rate) and child
                records (the different periods of validity)
     2014- 5-26 done

  63 2014- 5-19 TauxPropertiesDlg: second column of grid seems to extends,
                but shouldn't. Labels on the third column are correctly 
                left-aligned but shifted on the right 
     2014- 5-26 done

  64 2014- 5-19 there is no need to store the dataset in the ofaMainPage
                as the TreeModel is enough to store the data
     2014- 5-27 done - svn #3510

  65 2014- 5-19 Entry model properties: be able to reorder the detail
                lines by drag and drop. 
     2014- 5-27 cancelled (not useful)

  66 2014- 5-19 Entry model properties - check_enable_dlg
                check that detail lines are ok (enough and balanced).
     2014- 5-22 done

  67 2014- 5-19 EntryModel properties: row number is not right aligned
                but should
     2014- 5-22 done

  68 2014- 5-19 EntryModel properties: display row number as an 
                insensitive (grayed) text
     2014- 5-22 done

  69 2014- 5-19 EntryModel properties: implement Up/Down
     2014- 5-27 done - svn #3514

  70 2014- 5-19 EntryModel properties: implement Remove with a user
                confirmation.
     2014- 5-26 no confirmation needed as it is enough for the user to
                hit the Cancel key to cancel its modifications
     2014- 5-27 done

  71 2014- 5-19 Get an entry with a model
     2014- 5-22 done

  72 2014- 5-20 check that ofaJournalCombo object is disposed
     2014- 5-20 done svn commit #3463

  73 2014- 5-20 GuidedInput: use TAB to navigate between fields of the
                entries tree view
     2014- 5-21 done by using GtkGrid + GtkEntry instead of a treeview.

  74 2014- 5-21 Guided input: when quitting the dialog with Escape
                while the focus is on an Account entry, then the
                account notebook fires, but shouldn't.
     2014- 5-27 replace the focus-out-event by a Tab keypressed monitor
     2014- 5-27 done - svn #3515

  75 2014- 5-21 Optimize AccountNotebook to not recreate it each time
                it is called
     2014- 5-27 done - svn #3513

  76 2014- 5-21 Open AccountNotebook on a specified account, or as close
                as it is possible when only giving first digit(s)
     2014- 5-22 Done svn #3475

  77 2014- 5-21 Guided Input: default effect date is operation date
                or first davailable date
     2014- 5-28 done - svn #3516

  78 2014- 5-21 Guided Input: check that the effect date is valid
     2014- 5-28 done - svn #3516

  81 2014- 5-21 guided input: check_for_entry: also check that total
                debit+credit balance is not nul
     2014- 5-21 done svn #3488

  82 2014- 5-21 when creating a new entry, also pass the dossier so 
                that the record is immediately written in sgbd
     2014- 5-21 done

  83 2014- 5-21 account notebook: display sum of validated+rough
                balances
     2014- 5-22 Done svn# 3478

  84 2014- 5-21 Port the GuidedInput code model to ModelProperties
                (GtkGrid+GtkEntry instead of GtkTreeView)
     2014- 5-27 done - svn #3511

  87 2014- 5-22 Guided input: check that the selected account is of
                type detail
     2014- 5-22 done

  88 2014- 5-22 rename ofaSgbd to ofoSgbd
     2014 -5-22 done svn #3471

  90 2014- 5-22 remove GtkWindow *parent from dbmodel_to_v1 arguments
     2014- 5-22 done svn #3473

  91 2014- 5-22 the name of the class names in the accounts chart
                should be configured in a table
     2014- 5-31 done - svn #3587

  92 2014- 5-22 are we allowed to delete a journal ?
                - if it contains some entries ? -> NO
                - if entry models are defined on it ? -> yes, but
                  entry models have so to be reclassed in "no journal"
                  which made them invalid if their journal is locked
     2014- 5-22 actually, no - cf. svn #3495 

  93 2014- 5-22 implement journal_load_set: load the journal_det
                table
     2014- 5-22 done

  94 2014- 5-22 implement journal_record_entry
     2014- 5-28 done - svn #3518

  95 2014- 5-22 implement journal_is_deletable
     2014- 5-22 done

  97 2014- 5-22 journals set: add a 'view entries' function 
     2014- 5-24 done - svn #3496

  98 2014- 5-22 refactoring of ofoBase which maintains the dataset
                as a private data of the class
                -> ofoJournal - done svn #3480
                -> ofoDevise - done svn #3483
                -> ofoAccount - done svn #3484
                -> ofoTaux - done
                -> ofoModel -> done svn #3485
                -> ofoEntry

  99 2014- 5-23 when loading Journal, only load for the current exercice
     2014- 5-24 done: for now, load all what is exists

 102 2014- 5-24 test the GtkTreeSortable interface - if not works:
                define an interface for ofaMainPage which sorts the 
                embedded treeview on the specified column
     2014- 5-24 done svn #3487

 103 2014- 5-24 load OFA_T_DOSSIER data when opening
     2014- 5-28 done - svn #3535

 104 2014- 5-24 when updating a devise, only enable OK if code is not
                a duplicate
     2014- 5-24 done - svn #3489

 105 2014- 5-24 after delete, reset the focus to tree view
     2014- 5-24 done with devise - svn #3489
     2014- 5-24 done with journal - svn #3494
     2014- 5-26 done with taux - svn #3505

 106 2014- 5-24 check how and when is set the ofaMainPage 'theme' 
                property ?
     2014- 5-24 done svn #3491

 109 2014- 5-25 Devises: add notes, maj_user and maj_stamp
     2014- 5-25 done - svn #3501

 110 2014- 5-25 p1-last-update -> px-last-update
     2014- 5-25 done - svn #3500

 112 2014- 5-26 dispose_has_run is a protected data of the ofoBase
                base class
     2014 -5-26 done svn #3506

 113 2014- 5-26 have a base class for properties dialogs
     2014- 5-28 done - svn #3540

 115 2014- 5-26 it seems that an account cannot be finalized after 
                having be udated in AccountsChart (ref count issue ?)
     2014- 5-26 done - svn#3509

 116 2014- 5-26 only include '-def.h' header files in the headers
     2014- 5-28 done - svn #3527

 117 2014- 5-27 ofaModelsProperties: implement account selection
     2014- 5-28 done - svn #3519

 118 2014- 5-27 ofaGuidedInput: implement account selection
     2014- 5-28 done - svn #3520

 119 2014- 5-27 ofaAccountNotebook: scroll the view for display the
                initial selection
     2014- 5-27 done - svn #3512

 127 2014- 5-28 ofaAccountNotebook: update amount accounts on new entry
     2014- 5-29 done - svn #3547

 128 2014- 5-28 Dossier: have a default currency
     2014- 5-31 done - svn #3569

 131 2014- 5-28 have a currency combo box convenience class
     2014- 5-31 done - svn #3566

 132 2014- 5-28 remove my_utils_init_notes_ex and 
                my_utils_init_maj_user_stamp_ex as they should be no 
                more used when all dialog box will be derived from 
                ofaBseDialog
     2014- 5-31 done - svn #3568

 133 2014- 5-28 ofaAccountProperties makes use of ofaDeviseCombo
     2014- 5-31 done - svn #3567

 134 2014- 5-28 ofaAccountSelect derives from ofaBaseDialog
     2014- 5-29 done - svn #3544

 135 2014- 5-28 odaDeviseProperties derives from ofaBaseDialog
     2014- 5-29 done - svn #3545

 136 2014- 5-28 ofaDossierOpen derives from ofaBaseDialog
     2014- 5-29 done - svn #3546

 137 2014- 5-28 ofaDossierProperties derives from ofaBaseDialog
     2014- 5-30 done - svn #3557

 138 2014- 5-28 ofaGuidedInput derives from ofaBaseDialog
     2014- 5-30 done - svn #3558

 139 2014- 5-28 ofaJournalProperties derives from ofaBaseDialog
     2014- 5-30 done - svn #3559

 140 2014- 5-28 ofaModelProperties derives from ofaBaseDialog
     2014- 5-30 done - svn #3560

 141 2014- 5-28 ofaTauxProperties derives from ofaBaseDialog
     2014- 5-30 done - svn #3561

 142 2014- 5-28 remove xxxClassPrivate
     2014- 5-30 done - svn #3556

 143 2014- 5-29 add iso 3a code to accout notebook view
     2014- 5-29 done - svn #3548

 144 2014- 5-29 always use g_define_type 
     2014- 5-30 done - svn #3562

 145 2014- 5-30 get rid of xxx_GET_PRIVATE macro
     2014- 5-31 done - svn #3563

 150 2014- 6- 2 Reconciliation: when entries have been fetched, set the
                'label' title column to the account label
     2014- 6- 3 done

 154 2014- 6- 3 be able to re-use an already imported BAT (for the same
                account) if we have been interrupted in a previous
                session
     2014- 6- 4 done - svn #3617

 157 2014- 6- 4 BatList: the treeview doesn't vertically expand
     2014- 6- 4 done

-----------------------------------------------------------------------
 P. Wieser - Last updated on 2014, may 2nd
